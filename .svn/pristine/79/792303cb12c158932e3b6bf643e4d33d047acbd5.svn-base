/*
*********************************************************************
字库操作
*********************************************************************
*/
#include <stdio.h>
#include <stdlib.h>
#include <sys/ioctl.h>
#include <string.h>

#include "common.h"
#include "font.h"

//16*16 ASCII字符集点阵
const unsigned char g_ASCII_1608[95][16]={	  
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*" ",0*/
    {0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x00,0x00,0x00,0x00},/*"!",1*/
    {0x00,0x10,0x0C,0x02,0x10,0x0C,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*""",2*/
    {0x00,0x40,0xC0,0x78,0x40,0xC0,0x78,0x00,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x00},/*"#",3*/
    {0x00,0x70,0x88,0x88,0xFC,0x08,0x30,0x00,0x00,0x18,0x20,0x20,0xFF,0x21,0x1E,0x00},/*"$",4*/
    {0xF0,0x08,0xF0,0x80,0x60,0x18,0x00,0x00,0x00,0x31,0x0C,0x03,0x1E,0x21,0x1E,0x00},/*"%",5*/
    {0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x2C,0x19,0x27,0x21,0x10},/*"&",6*/
    {0x00,0x12,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"'",7*/
    {0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00},/*"(",8*/
    {0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00},/*")",9*/
    {0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00},/*"*",10*/
    {0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0F,0x01,0x01,0x01},/*"+",11*/
    {0x00,0x01,0x00,0x0D,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*",",12*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x00},/*"-",13*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00},/*".",14*/
    {0x00,0x00,0x00,0x00,0xC0,0x38,0x04,0x00,0x00,0x60,0x18,0x07,0x00,0x00,0x00,0x00},/*"/",15*/
    {0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00},/*"0",16*/
    {0x00,0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00},/*"1",17*/
    {0x00,0x70,0x08,0x08,0x08,0x08,0xF0,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00},/*"2",18*/
    {0x00,0x30,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x18,0x20,0x21,0x21,0x22,0x1C,0x00},/*"3",19*/
    {0x00,0x00,0x80,0x40,0x30,0xF8,0x00,0x00,0x00,0x06,0x05,0x24,0x24,0x3F,0x24,0x24},/*"4",20*/
    {0x00,0xF8,0x88,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x20,0x20,0x20,0x11,0x0E,0x00},/*"5",21*/
    {0x00,0xE0,0x10,0x88,0x88,0x90,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x20,0x1F,0x00},/*"6",22*/
    {0x00,0x18,0x08,0x08,0x88,0x68,0x18,0x00,0x00,0x00,0x00,0x3E,0x01,0x00,0x00,0x00},/*"7",23*/
    {0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00},/*"8",24*/
    {0x00,0xF0,0x08,0x08,0x08,0x10,0xE0,0x00,0x00,0x01,0x12,0x22,0x22,0x11,0x0F,0x00},/*"9",25*/
    {0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00},/*":",26*/
    {0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00},/*";",27*/
    {0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00},/*"<",28*/
    {0x00,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00},/*"=",29*/
    {0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00},/*">",30*/
    {0x00,0x70,0x48,0x08,0x08,0x88,0x70,0x00,0x00,0x00,0x00,0x30,0x37,0x00,0x00,0x00},/*"?",31*/
    {0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x28,0x2F,0x28,0x17,0x00},/*"@",32*/
    {0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20},/*"A",33*/
    {0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00},/*"B",34*/
    {0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00},/*"C",35*/
    {0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00},/*"D",36*/
    {0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00},/*"E",37*/
    {0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00},/*"F",38*/
    {0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00},/*"G",39*/
    {0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20},/*"H",40*/
    {0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00},/*"I",41*/
    {0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00},/*"J",42*/
    {0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00},/*"K",43*/
    {0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00},/*"L",44*/
    {0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x01,0x3E,0x01,0x3F,0x20,0x00},/*"M",45*/
    {0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00},/*"N",46*/
    {0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00},/*"O",47*/
    {0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00},/*"P",48*/
    {0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x28,0x28,0x30,0x50,0x4F,0x00},/*"Q",49*/
    {0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20},/*"R",50*/
    {0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00},/*"S",51*/
    {0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00},/*"T",52*/
    {0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00},/*"U",53*/
    {0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00},/*"V",54*/
    {0x08,0xF8,0x00,0xF8,0x00,0xF8,0x08,0x00,0x00,0x03,0x3E,0x01,0x3E,0x03,0x00,0x00},/*"W",55*/
    {0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20},/*"X",56*/
    {0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00},/*"Y",57*/
    {0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00},/*"Z",58*/
    {0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00},/*"[",59*/
    {0x00,0x04,0x38,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00},/*"\",60*/
    {0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00},/*"]",61*/
    {0x00,0x00,0x04,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"^",62*/
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80},/*"_",63*/
    {0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"`",64*/
    {0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x19,0x24,0x24,0x12,0x3F,0x20,0x00},/*"a",65*/
    {0x10,0xF0,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00},/*"b",66*/
    {0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00},/*"c",67*/
    {0x00,0x00,0x80,0x80,0x80,0x90,0xF0,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20},/*"d",68*/
    {0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x24,0x24,0x24,0x24,0x17,0x00},/*"e",69*/
    {0x00,0x80,0x80,0xE0,0x90,0x90,0x20,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00},/*"f",70*/
    {0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00},/*"g",71*/
    {0x10,0xF0,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20},/*"h",72*/
    {0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00},/*"i",73*/
    {0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00},/*"j",74*/
    {0x10,0xF0,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x06,0x29,0x30,0x20,0x00},/*"k",75*/
    {0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00},/*"l",76*/
    {0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F},/*"m",77*/
    {0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20},/*"n",78*/
    {0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00},/*"o",79*/
    {0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0x91,0x20,0x20,0x11,0x0E,0x00},/*"p",80*/
    {0x00,0x00,0x00,0x80,0x80,0x00,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0x91,0xFF,0x80},/*"q",81*/
    {0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00},/*"r",82*/
    {0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00},/*"s",83*/
    {0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x10,0x00},/*"t",84*/
    {0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20},/*"u",85*/
    {0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x03,0x0C,0x30,0x0C,0x03,0x00,0x00},/*"v",86*/
    {0x80,0x80,0x00,0x80,0x80,0x00,0x80,0x80,0x01,0x0E,0x30,0x0C,0x07,0x38,0x06,0x01},/*"w",87*/
    {0x00,0x80,0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x20,0x31,0x0E,0x2E,0x31,0x20,0x00},/*"x",88*/
    {0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x81,0x86,0x78,0x18,0x06,0x01,0x00},/*"y",89*/
    {0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00},/*"z",90*/
    {0x00,0x00,0x00,0x00,0x00,0xFC,0x02,0x02,0x00,0x00,0x00,0x00,0x01,0x3E,0x40,0x40},/*"{",91*/
    {0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00},/*"|",92*/
    {0x02,0x02,0xFC,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x3E,0x01,0x00,0x00,0x00,0x00},/*"}",93*/
    {0x00,0x80,0x40,0x80,0x80,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00},/*"~",94*/
};

// ------------------  汉字字模的数据结构定义 ------------------------ //
struct  GB2312CharTypeDef                   // 汉字字模数据结构 
{
	unsigned char  Index[2];           // 汉字内码索引,一个汉字占两个字节	
	unsigned char  Msk[32];            // 点阵码数据(16*16/8) 
};

/*
新 联 电 子 程 序 安 装 进 度 升 级 拷 贝 备 份 成 功 失 败 
重 启 盘 即 将 程 序 旧 卸 载 请 检 查 异 常 验 签 决 方 案 
执 行 秘 钥 恢 复 终 端 许 可 文 件 缺 失
*/
const struct GB2312CharTypeDef g_GB2312_1616[] = 
{
    /*--  文字:  新  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"新", {0x40,0x44,0x54,0x65,0xC6,0x64,0x54,0x44,0x00,0xFC,0x44,0x44,0xC4,0x42,0x40,0x00,
    0x20,0x12,0x4A,0x82,0x7F,0x02,0x0A,0x92,0x60,0x1F,0x00,0x00,0xFF,0x00,0x00,0x00}},

    /*--  文字:  联  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"联", {0x02,0xFE,0x92,0x92,0xFE,0x02,0x00,0x10,0x11,0x16,0xF0,0x14,0x13,0x10,0x00,0x00,
    0x10,0x1F,0x08,0x08,0xFF,0x04,0x81,0x41,0x31,0x0D,0x03,0x0D,0x31,0x41,0x81,0x00}},

    /*--  文字:  电  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"电", {0x00,0x00,0xF8,0x88,0x88,0x88,0x88,0xFF,0x88,0x88,0x88,0x88,0xF8,0x00,0x00,0x00,
    0x00,0x00,0x1F,0x08,0x08,0x08,0x08,0x7F,0x88,0x88,0x88,0x88,0x9F,0x80,0xF0,0x00}},

    /*--  文字:  子  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"子", {0x80,0x82,0x82,0x82,0x82,0x82,0x82,0xE2,0xA2,0x92,0x8A,0x86,0x82,0x80,0x80,0x00,
    0x00,0x00,0x00,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},

    /*--  文字:  程  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"程", {0x24,0x24,0xA4,0xFE,0x23,0x22,0x00,0x3E,0x22,0x22,0x22,0x22,0x22,0x3E,0x00,0x00,
    0x08,0x06,0x01,0xFF,0x01,0x06,0x40,0x49,0x49,0x49,0x7F,0x49,0x49,0x49,0x41,0x00}},

    /*--  文字:  序  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"序", {0x00,0x00,0xFC,0x04,0x04,0x04,0x14,0x15,0x56,0x94,0x54,0x34,0x14,0x04,0x04,0x00,
    0x40,0x30,0x0F,0x00,0x01,0x01,0x01,0x41,0x81,0x7F,0x01,0x01,0x01,0x05,0x03,0x00}},

    /*--  文字:  安  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"安", {0x80,0x90,0x8C,0x84,0x84,0x84,0xF5,0x86,0x84,0x84,0x84,0x84,0x94,0x8C,0x80,0x00,
    0x00,0x80,0x80,0x84,0x46,0x49,0x28,0x10,0x10,0x2C,0x23,0x40,0x80,0x00,0x00,0x00}},

    /*--  文字:  装  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"装", {0x40,0x42,0x24,0x10,0xFF,0x00,0x84,0x44,0x44,0x44,0x7F,0x44,0x44,0x44,0x04,0x00,
    0x22,0x22,0x12,0x12,0x0A,0xFE,0x42,0x27,0x0A,0x12,0x22,0x32,0x4A,0x42,0x42,0x00}},

    /*--  文字:  进  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"进", {0x40,0x40,0x42,0xCC,0x00,0x80,0x88,0x88,0xFF,0x88,0x88,0xFF,0x88,0x88,0x80,0x00,
    0x00,0x40,0x20,0x1F,0x20,0x40,0x50,0x4C,0x43,0x40,0x40,0x5F,0x40,0x40,0x40,0x00}},

    /*--  文字:  度  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"度", {0x00,0x00,0xFC,0x24,0x24,0x24,0xFC,0x25,0x26,0x24,0xFC,0x24,0x24,0x24,0x04,0x00,
    0x40,0x30,0x8F,0x80,0x84,0x4C,0x55,0x25,0x25,0x25,0x55,0x4C,0x80,0x80,0x80,0x00}},

    /*--  文字:  升  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"升", {0x80,0x80,0x84,0x84,0x84,0xFE,0x82,0x83,0x82,0x80,0xFF,0x80,0x80,0x80,0x80,0x00,
    0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00}},

    /*--  文字:  级  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"级", {0x20,0x30,0xAC,0x63,0x30,0x00,0x02,0x02,0xFE,0x02,0x02,0x62,0x5A,0xC6,0x00,0x00,
    0x22,0x67,0x22,0x12,0x12,0x40,0x30,0x8F,0x80,0x43,0x2C,0x10,0x2C,0x43,0x80,0x00}},

    /*--  文字:  拷  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"拷", {0x10,0x10,0x10,0xFF,0x10,0x90,0x20,0x24,0xA4,0x7F,0x24,0x34,0x28,0x26,0x20,0x00,
    0x04,0x44,0x82,0x7F,0x01,0x04,0x02,0x01,0x0D,0x0B,0x49,0x89,0x49,0x39,0x01,0x00}},

    /*--  文字:  贝  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"贝", {0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0xE2,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,
    0x00,0x00,0x80,0x47,0x20,0x10,0x0C,0x03,0x08,0x10,0x20,0x47,0x80,0x00,0x00,0x00}},

    /*--  文字:  备  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"备", {0x80,0x90,0x90,0x48,0x4C,0x57,0x24,0x24,0x24,0x54,0x4C,0x44,0x80,0x80,0x80,0x00,
    0x00,0x00,0x00,0xFF,0x49,0x49,0x49,0x7F,0x49,0x49,0x49,0xFF,0x00,0x00,0x00,0x00}},

    /*--  文字:  份  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"份", {0x00,0x80,0x60,0xF8,0x07,0x80,0x40,0xB0,0x8E,0x80,0x80,0x87,0x98,0x60,0x80,0x00,
    0x01,0x00,0x00,0xFF,0x00,0x80,0x40,0x30,0x0F,0x00,0x40,0x80,0x7F,0x00,0x00,0x00}},

    /*--  文字:  成  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"成", {0x00,0x00,0xF8,0x88,0x88,0x88,0x88,0x08,0x08,0xFF,0x08,0x09,0x0A,0xC8,0x08,0x00,
    0x80,0x60,0x1F,0x00,0x10,0x20,0x1F,0x80,0x40,0x21,0x16,0x18,0x26,0x41,0xF8,0x00}},

    /*--  文字:  功  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"功", {0x08,0x08,0x08,0xF8,0x08,0x08,0x08,0x10,0x10,0xFF,0x10,0x10,0x10,0xF0,0x00,0x00,
    0x10,0x30,0x10,0x1F,0x08,0x88,0x48,0x30,0x0E,0x01,0x40,0x80,0x40,0x3F,0x00,0x00}},

    /*--  文字:  失  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"失", {0x00,0x40,0x30,0x1E,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,
    0x81,0x81,0x41,0x21,0x11,0x0D,0x03,0x01,0x03,0x0D,0x11,0x21,0x41,0x81,0x81,0x00}},

    /*--  文字:  败  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"败", {0x00,0xFE,0x02,0xFA,0x02,0xFE,0x40,0x20,0xD8,0x17,0x10,0x10,0xF0,0x10,0x10,0x00,
    0x80,0x47,0x30,0x0F,0x10,0x67,0x80,0x40,0x21,0x16,0x08,0x16,0x21,0x40,0x80,0x00}},

    /*--  文字:  重  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"重", {0x10,0x10,0x14,0xD4,0x54,0x54,0x54,0xFC,0x52,0x52,0x52,0xD3,0x12,0x10,0x10,0x00,
    0x40,0x40,0x50,0x57,0x55,0x55,0x55,0x7F,0x55,0x55,0x55,0x57,0x50,0x40,0x40,0x00}},

    /*--  文字:  启  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"启", {0x00,0x00,0x00,0xFC,0x44,0x44,0x44,0x45,0x46,0x44,0x44,0x44,0x44,0x7C,0x00,0x00,
    0x40,0x20,0x18,0x07,0x00,0xFC,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0xFC,0x00,0x00}},

    /*--  文字:  盘  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"盘", {0x20,0x20,0x20,0xFC,0x24,0x26,0xA5,0x2C,0x34,0x24,0x24,0xFC,0x20,0x20,0x20,0x00,
    0x40,0x42,0x7D,0x44,0x44,0x7C,0x44,0x45,0x44,0x7D,0x46,0x45,0x7C,0x40,0x40,0x00}},

    /*--  文字:  即  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"即", {0x00,0xFE,0x92,0x92,0x92,0x92,0xFE,0x00,0x00,0xFE,0x02,0x02,0x02,0xFE,0x00,0x00,
    0x00,0x3F,0x20,0x10,0x0A,0x04,0x18,0x00,0x00,0xFF,0x00,0x04,0x08,0x07,0x00,0x00}},

    /*--  文字:  将  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"将", {0x00,0x08,0x30,0x00,0xFF,0x00,0x88,0x84,0x53,0x22,0x12,0xCA,0x06,0x00,0x00,0x00,
    0x04,0x04,0x02,0x01,0xFF,0x00,0x02,0x0A,0x12,0x42,0x82,0x7F,0x02,0x02,0x02,0x00}},

    /*--  文字:  软  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"软", {0x08,0xC8,0xB8,0x8F,0xE8,0x88,0x88,0x40,0x30,0x0F,0xC8,0x08,0x28,0x18,0x00,0x00,
    0x08,0x18,0x08,0x08,0xFF,0x04,0x84,0x40,0x30,0x0E,0x01,0x0E,0x30,0x40,0x80,0x00}},

    /*--  文字:  件  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"件", {0x00,0x80,0x60,0xF8,0x07,0x80,0x60,0x1C,0x10,0x10,0xFF,0x10,0x10,0x10,0x00,0x00,
    0x01,0x00,0x00,0xFF,0x00,0x02,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x00}},

    /*--  文字:  文  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"文", {0x08,0x08,0x08,0x38,0xC8,0x08,0x09,0x0E,0x08,0x08,0xC8,0x38,0x08,0x08,0x08,0x00,
    0x80,0x80,0x40,0x40,0x20,0x11,0x0A,0x04,0x0A,0x11,0x20,0x40,0x40,0x80,0x80,0x00}},

    /*--  文字:  解  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"解", {0x20,0x10,0xEC,0x27,0xF4,0x2C,0xE0,0x00,0x22,0x92,0x0E,0xD2,0x22,0x1E,0x00,0x00,
    0x80,0x60,0x1F,0x09,0x3F,0x89,0xFF,0x00,0x0A,0x09,0x09,0xFF,0x09,0x09,0x08,0x00}},

    /*--  文字:  压  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"压", {0x00,0x00,0xFE,0x02,0x82,0x82,0x82,0x82,0xFA,0x82,0x82,0x82,0x82,0x82,0x02,0x00,
    0x80,0x60,0x1F,0x40,0x40,0x40,0x40,0x40,0x7F,0x40,0x40,0x44,0x58,0x40,0x40,0x00}},

    /*--  文字:  镜  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"镜", {0x40,0x30,0xEF,0x24,0x04,0x20,0xA4,0xAC,0xB5,0xA6,0xB4,0xAC,0xA4,0x20,0x20,0x00,
    0x01,0x01,0x7F,0x21,0x91,0x80,0x4F,0x3A,0x0A,0x0A,0x7A,0x8A,0x8F,0x80,0xE0,0x00}},

    /*--  文字:  像  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"像", {0x00,0x80,0x60,0xF8,0x17,0x08,0x7C,0x4B,0xCA,0x6A,0x5A,0x4E,0x48,0x78,0x00,0x00,
    0x01,0x00,0x00,0xFF,0x00,0x4A,0x4A,0x25,0x52,0x89,0x7E,0x04,0x1A,0x21,0x40,0x00}},

    /*--  文字:  停  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"停", {0x80,0x60,0xF8,0x07,0x00,0x04,0x74,0x54,0x55,0x56,0x54,0x54,0x74,0x04,0x00,0x00,
    0x00,0x00,0xFF,0x00,0x03,0x01,0x05,0x45,0x85,0x7D,0x05,0x05,0x05,0x01,0x03,0x00}},

    /*--  文字:  止  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"止", {0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0xFF,0x40,0x40,0x40,0x40,0x40,0x00,0x00,0x00,
    0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x7F,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00}},

    /*--  文字:  容  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"容", {0x10,0x0C,0x44,0x24,0x14,0x84,0x45,0x26,0x44,0x84,0x14,0x24,0x44,0x14,0x0C,0x00,
    0x04,0x04,0x02,0xFE,0x45,0x44,0x44,0x44,0x44,0x44,0x45,0xFE,0x02,0x04,0x04,0x00}},

    /*--  文字:  器  --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"器", {0x80,0x80,0x9E,0x92,0x92,0x92,0x9E,0xE0,0x80,0x9E,0xB2,0xD2,0x92,0x9E,0x80,0x00,
    0x08,0x08,0xF4,0x94,0x92,0x92,0xF1,0x00,0x01,0xF2,0x92,0x94,0x94,0xF8,0x08,0x00}},
    
    /*--  文字:  结   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"结", {0x20,0x30,0xAC,0x63,0x20,0x18,0x08,0x48,0x48,0x48,0x7F,0x48,0x48,0x48,0x08,0x00,
    0x22,0x67,0x22,0x12,0x12,0x12,0x00,0xFE,0x42,0x42,0x42,0x42,0x42,0xFE,0x00,0x00}},

    /*--  文字:  束   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"束", {0x04,0x04,0xE4,0x24,0x24,0x24,0x24,0xFF,0x24,0x24,0x24,0x24,0xE4,0x04,0x04,0x00,
    0x40,0x40,0x27,0x22,0x12,0x0A,0x06,0xFF,0x06,0x0A,0x12,0x22,0x27,0x40,0x40,0x00}},
	
    /*--  文字:  旧   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"旧", {0x00,0x00,0xFF,0x00,0x00,0x00,0xFE,0x82,0x82,0x82,0x82,0x82,0x82,0xFE,0x00,0x00,
    0x00,0x00,0xFF,0x00,0x00,0x00,0x7F,0x20,0x20,0x20,0x20,0x20,0x20,0x7F,0x00,0x00}},

    /*--  文字:  卸   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"卸", {0x10,0x48,0x47,0x44,0xFC,0x44,0x44,0x44,0x00,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
    0x20,0x60,0x3E,0x20,0x1F,0x12,0x12,0x10,0x00,0xFF,0x00,0x08,0x10,0x0F,0x00,0x00}},

    /*--  文字:  载   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"载", {0x90,0x94,0x94,0xF4,0x9F,0x94,0x94,0x94,0x10,0x10,0xFF,0x10,0x12,0xD4,0x10,0x00,
    0x20,0x26,0x25,0x24,0xFE,0x14,0x14,0x14,0x80,0x40,0x27,0x18,0x26,0x41,0xF0,0x00}},

    /*--  文字:  请   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"请", {0x40,0x42,0xCC,0x00,0x00,0x44,0x54,0x54,0x54,0x7F,0x54,0x54,0x54,0x44,0x40,0x00,
    0x00,0x00,0x7F,0x20,0x10,0x00,0xFF,0x15,0x15,0x15,0x55,0x95,0x7F,0x00,0x00,0x00}},

    /*--  文字:  检   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"检", {0x10,0x10,0xD0,0xFF,0x90,0x50,0x20,0x50,0x4C,0x43,0x4C,0x50,0x20,0x40,0x40,0x00,
    0x04,0x03,0x00,0xFF,0x00,0x41,0x44,0x58,0x41,0x4E,0x60,0x58,0x47,0x40,0x40,0x00}},

    /*--  文字:  查   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"查", {0x40,0x44,0x24,0xA4,0x94,0x8C,0x84,0xFF,0x84,0x8C,0x94,0xA4,0x24,0x44,0x40,0x00,
    0x40,0x40,0x40,0x5F,0x4A,0x4A,0x4A,0x4A,0x4A,0x4A,0x4A,0x5F,0x40,0x40,0x40,0x00}},

    /*--  文字:  异   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"异", {0x00,0x00,0x7E,0x92,0x92,0x92,0x92,0x92,0x92,0x92,0x92,0x9E,0x80,0xE0,0x00,0x00,
    0x08,0x88,0x48,0x28,0x1E,0x08,0x08,0x08,0x08,0x08,0xFE,0x08,0x08,0x08,0x08,0x00}},

    /*--  文字:  常   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"常", {0x20,0x18,0x08,0xEA,0xAC,0xA8,0xA8,0xAF,0xA8,0xA8,0xAC,0xEA,0x08,0x28,0x18,0x00,
    0x00,0x00,0x3E,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x12,0x22,0x1E,0x00,0x00,0x00}},

    /*--  文字:  验   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"验", {0x02,0xFA,0x82,0x82,0xFE,0x80,0x40,0x20,0x50,0x4C,0x43,0x4C,0x50,0x20,0x40,0x00,
    0x08,0x18,0x48,0x84,0x44,0x3F,0x40,0x44,0x58,0x41,0x4E,0x60,0x58,0x47,0x40,0x00}},

    /*--  文字:  签   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"签", {0x20,0x10,0x0C,0x07,0x8C,0x54,0x24,0x14,0x28,0x47,0x84,0x0C,0x14,0x04,0x04,0x00,
    0x02,0x42,0x41,0x49,0x70,0x41,0x45,0x59,0x41,0x61,0x50,0x4D,0x41,0x42,0x02,0x00}},

    /*--  文字:  决   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"决", {0x00,0x02,0x0C,0xC0,0x00,0x08,0x08,0x08,0xFF,0x08,0x08,0x08,0xF8,0x00,0x00,0x00,
    0x02,0x02,0x7F,0x80,0x41,0x21,0x11,0x0D,0x03,0x0D,0x11,0x21,0x41,0x81,0x81,0x00}},

    /*--  文字:  方   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"方", {0x08,0x08,0x08,0x08,0x08,0xF8,0x89,0x8E,0x88,0x88,0x88,0x88,0x08,0x08,0x08,0x00,
    0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00}},

    /*--  文字:  案   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"案", {0x10,0x16,0x12,0x52,0x72,0x5A,0xD2,0x93,0x92,0xD2,0x32,0x12,0x12,0x16,0x10,0x00,
    0x44,0x44,0x25,0x25,0x15,0x0D,0x04,0xFE,0x04,0x0C,0x15,0x25,0x25,0x44,0x44,0x00}},

    /*--  文字:  执   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"执", {0x10,0x10,0x10,0xFF,0x10,0x90,0x00,0x10,0x10,0xFF,0x10,0x10,0xF0,0x00,0x00,0x00,
    0x04,0x44,0x82,0x7F,0x01,0x80,0x40,0x21,0x1A,0x07,0x18,0x00,0x3F,0x40,0xF0,0x00}},

    /*--  文字:  行   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"行", {0x00,0x10,0x88,0xC4,0x33,0x00,0x40,0x42,0x42,0x42,0xC2,0x42,0x42,0x42,0x40,0x00,
    0x02,0x01,0x00,0xFF,0x00,0x00,0x00,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00,0x00}},

    /*--  文字:  秘   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"秘", {0x24,0x24,0xA4,0xFE,0xA3,0x22,0x80,0x00,0xE0,0x02,0x0C,0xC0,0x38,0x80,0x00,0x00,
    0x08,0x06,0x01,0xFF,0x00,0x45,0x23,0x10,0x3F,0x44,0x43,0x40,0x78,0x00,0x07,0x00}},

    /*--  文字:  钥   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"钥", {0x20,0x10,0x2C,0xE7,0x24,0x24,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,
    0x01,0x01,0x01,0x7F,0x21,0x91,0x40,0x30,0x0F,0x02,0x02,0x42,0x82,0x7F,0x00,0x00}},

    /*--  文字:  恢   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"恢", {0x00,0xE0,0x00,0xFF,0x10,0x20,0x08,0x88,0x78,0x0F,0x08,0xE8,0x08,0x08,0x88,0x00,
    0x01,0x00,0x00,0xFF,0x00,0x10,0x0C,0x83,0x44,0x23,0x18,0x07,0x18,0x62,0x81,0x00}},

    /*--  文字:  复   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"复", {0x20,0x10,0x08,0xF7,0x54,0x54,0x54,0x54,0x54,0x54,0x54,0xF4,0x04,0x04,0x00,0x00,
    0x80,0x90,0x90,0x49,0x4D,0x57,0x25,0x25,0x25,0x55,0x4D,0x45,0x80,0x80,0x80,0x00}},

    /*--  文字:  终   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"终", {0x20,0x30,0xAC,0x63,0x30,0x20,0x10,0x18,0xA7,0x44,0xA4,0x14,0x0C,0x00,0x00,0x00,
    0x22,0x67,0x22,0x12,0x12,0x02,0x01,0x21,0x24,0x44,0x48,0x91,0x01,0x02,0x02,0x00}},

    /*--  文字:  端   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"端", {0xC8,0x08,0x09,0x0E,0xE8,0x08,0x40,0x5E,0x50,0x50,0xDF,0x50,0x50,0x5E,0x40,0x00,
    0x20,0x6F,0x20,0x1C,0x13,0x10,0x00,0xFE,0x02,0x7F,0x02,0x7E,0x82,0xFE,0x00,0x00}},

    /*--  文字:  许   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"许", {0x40,0x40,0x42,0xCC,0x00,0x00,0x20,0x18,0x0F,0x08,0xF8,0x08,0x08,0x08,0x00,0x00,
    0x00,0x00,0x00,0x7F,0x20,0x10,0x01,0x01,0x01,0x01,0xFF,0x01,0x01,0x01,0x01,0x00}},

    /*--  文字:  可   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"可", {0x00,0x02,0x02,0xF2,0x12,0x12,0x12,0xF2,0x02,0x02,0x02,0xFE,0x02,0x02,0x02,0x00,
    0x00,0x00,0x00,0x0F,0x04,0x04,0x04,0x0F,0x00,0x40,0x80,0x7F,0x00,0x00,0x00,0x00}},

    /*--  文字:  文   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"文", {0x08,0x08,0x08,0x38,0xC8,0x08,0x09,0x0E,0x08,0x08,0xC8,0x38,0x08,0x08,0x08,0x00,
    0x80,0x80,0x40,0x40,0x20,0x11,0x0A,0x04,0x0A,0x11,0x20,0x40,0x40,0x80,0x80,0x00}},

    /*--  文字:  件   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"可", {0x00,0x80,0x60,0xF8,0x07,0x80,0x60,0x1C,0x10,0x10,0xFF,0x10,0x10,0x10,0x00,0x00,
    0x01,0x00,0x00,0xFF,0x00,0x02,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x00}},

    /*--  文字:  缺   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"缺", {0x50,0x48,0x47,0xFC,0x44,0x44,0x40,0x08,0x08,0x08,0xFF,0x08,0x08,0xF8,0x00,0x00,
    0x00,0x3E,0x20,0x1F,0x10,0x7E,0x81,0x41,0x31,0x0D,0x03,0x0D,0x31,0x41,0x81,0x00}},

    /*--  文字:  失   --*/
    /*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
    {"失", {0x00,0x40,0x30,0x1E,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,
    0x81,0x81,0x41,0x21,0x11,0x0D,0x03,0x01,0x03,0x0D,0x11,0x21,0x41,0x81,0x81,0x00}},
};
const unsigned short g_GB2312_num = sizeof(g_GB2312_1616)/sizeof(struct GB2312CharTypeDef);

/**********************************************************************
* @name      : font_gb2312_get
* @brief     : 获取点阵
* @param[in] : unsigned char *mchar       字符串
* @param[out]: unsigned char *out         输出点阵
               int *outlen                点阵缓存长度
* @return    : 有效字节数（表示8位的宽度 0-1-2）
* @Create    : 王津剑
* @Date      : 2022-4-15
* @Update    : 
**********************************************************************/
int font_gb2312_get(unsigned char *mchar, unsigned char *out, int *outlen)
{
    unsigned short i = 0;

    *outlen  = 0;
    if(mchar[0] >= 0x20 && mchar[0] <= 0x7E)
    {
        memcpy(out, g_ASCII_1608[mchar[0] - 0x20], 16);
        *outlen = 16;
        return 1;
    }
    else if(mchar[0] >= 0xA1 && mchar[0] <= 0xF7 && mchar[1] >= 0xA1 && mchar[1] <= 0xFE)
    {
        for(i = 0; i < g_GB2312_num; i++)
        {
            if(0 == memcmp(g_GB2312_1616[i].Index, mchar, 2))
            {
                memcpy(out, g_GB2312_1616[i].Msk, 32);
                *outlen = 32;
                break;
            }
        }
        return 2;
    }
    return 1;
}

/**********************************************************************
* @name      : font_string_map
* @brief     : 字符串转换成点阵
* @param[in] : int line_space             行间隔
               char *mstr                 显示字符串
               int len                    字符串长度
               int max_x                  X轴范围
               int max_y                  Y轴范围
* @param[out]: unsigned char *pMap        输出点阵
* @return    : 0-成功/其他-错误码
* @Create    : 王津剑
* @Date      : 2022-4-15
* @Update    : 
**********************************************************************/
int font_string_map(int line_space, char *mstr, int len, unsigned char *pMap, int max_x, int max_y)
{
    unsigned char *mChar = (unsigned char *)mstr;
    int size = 0;
    int offset = 0;
    int outlen = 0;
    unsigned char outbits[32] = {0};
    int i = 0;
    int j = 0;
    unsigned char bitmap[16][16] = {0};
    int y0 = 0;
    int x = -1;
    int y = -1;

    while(offset < len)
    {
        memset(bitmap[0], 0, 16 * 16);
        size = font_gb2312_get(mChar, outbits, &outlen);
        for(i = 0; i < outlen/2; i++)//循环扫描16列
        {
            for(j = 0; j < 8; j++)
            {
                bitmap[j][i] = (outbits[i] >> j) & 0x01;
                bitmap[j + 8][i] = (outbits[i + outlen/2] >> j) & 0x01;
            }
        }
        /* 排布 */
        for(i = 0; i < outlen/2; i++)
        {
            x++;
            if(x >= max_x)
            {
                break;
            }
            for(j = 0; j < 16; j++)
            {
                y = y0 + j;
                if(y >= max_y)
                {
                    break;
                }
                pMap[max_x * y + x] = bitmap[j][i];
            }
        }

        /* 换行 */
        if(1 == size && '\n' == *mChar)
        {
            y0 += 16 + line_space;
            x = 0;
        }
        mChar += size;
        offset += size;
    }

    return 0;
}

/**********************************************************************
* @name      : font_input_string
* @brief     : 输入字符串过滤\相关内容
* @param[in] : char *mstr                 显示字符串
               int len                    字符串长度
* @param[out]: int *outlen                输出字符串长度
* @return    : 0-成功/其他-错误码
* @Create    : 王津剑
* @Date      : 2022-4-18
* @Update    : 
**********************************************************************/
void font_input_string(char *mstr, int len, int *outlen)
{
    char *mNew = NULL;
    int size = 0;
    int offset = 0;

    mNew=(char *)malloc(len + 1);
    memset(mNew, 0, len + 1);

    for(offset = 0; offset < len; offset++)
    {
        if(mstr[offset] == '\\')
        {
            switch(mstr[offset + 1])
            {
                case 'a': mNew[size] = 7; break;
                case 'b': mNew[size] = 8; break;
                case 'f': mNew[size] = 12; break;
                case 'n': mNew[size] = 10; break;
                case 'r': mNew[size] = 13; break;
                case 't': mNew[size] = 9; break;
                case 'v': mNew[size] = 11; break;
                case '\\': mNew[size] = 92; break;
                default: mNew[size] = 15; break;
            }
            offset++;
        }
        else
        {
            mNew[size] = mstr[offset];
        }
        size++;
    }

    memset(mstr, 0, len);
    memcpy(mstr, mNew, size);
    *outlen = size;
}
